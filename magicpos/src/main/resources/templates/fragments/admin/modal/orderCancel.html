<th:block th:fragment="orderCancel">
  <!-- ÏÉÅÌíàÏ∑®ÏÜå Î™®Îã¨ -->
  <div id="cancel-modal">
    <div class="cancel-modal-box">
      
      <!-- Î™®Îã¨ ÏÉÅÎã® -->
      <div class="cancel-modal-header">
        <span class="cancel-modal-title">ÏÉÅÌíàÏ∑®ÏÜå</span>
        <button onclick="closeCancelModal()" class="cancel-modal-close">X</button>
      </div>

      <!-- ÏÉÅÌíà Ï∑®ÏÜå Î™©Î°ù -->
      <div class="cart-section">
        <div class="cart-items">
          <div class="cart-item">
            <div class="cart-item-left">
              <ul>
                <li th:each="menu : ${menuNameList}" th:text="${menu}">Î©îÎâ¥Î™Ö</li>
                </ul>

              <!-- üîÅ Ï£ºÎ¨∏ ÏÉÅÏÑ∏ Î∞òÎ≥µÎ¨∏ ÏãúÏûë -->
              <div th:each="orderDetail : ${orderDetailsMap[order.no]}" class="quantity-control">

                <!-- ÏàòÎüâ Í∞êÏÜå -->
                <form action="/admin/orders/updateQuantity" method="post">
                  <input type="hidden" name="orderDetailNo" th:value="${orderDetail['no']}" />
                  <input type="hidden" name="quantity" th:value="${orderDetail['quantity']}" class="quantity-input" />
                  <button type="submit" class="cartcontrolBtn"
                          onclick="event.target.closest('form').querySelector('.quantity-input').value = [[${orderDetail['quantity']} - 1]];">
                    <img th:src="@{/images/ÎßàÏù¥ÎÑàÏä§ ÌïòÏñÄÏÉâ.png}" alt="Í∞êÏÜå" />
                  </button>
                </form>

                <!-- ÌòÑÏû¨ ÏàòÎüâ ÌëúÏãú -->
                <span th:text="${orderDetail['quantity']}">1</span>

                <!-- ÏàòÎüâ Ï¶ùÍ∞Ä -->
                <form action="/admin/orders/updateQuantity" method="post">
                  <input type="hidden" name="orderDetailNo" th:value="${orderDetail['no']}" />
                  <input type="hidden" name="quantity" th:value="${orderDetail['quantity']}" class="quantity-input" />
                  <button type="submit" class="cartcontrolBtn"
                          onclick="event.target.closest('form').querySelector('.quantity-input').value = [[${orderDetail['quantity']} + 1]];">
                    <img th:src="@{/images/ÌîåÎü¨Ïä§ ÎÖ∏ÎûÄÏÉâ.png}" alt="Ï¶ùÍ∞Ä" />
                  </button>
                </form>
              </div>
              <!-- üîÅ Ï£ºÎ¨∏ ÏÉÅÏÑ∏ Î∞òÎ≥µÎ¨∏ ÎÅù -->

            </div>

            <div class="cart-item-right">
              <div th:text="${order.totalPrice != null ? #numbers.formatInteger(order.totalPrice, 3, 'COMMA') + 'Ïõê' : '0Ïõê'}">Í∞ÄÍ≤©</div>
              <form action="/admin/orders/delete" method="post">
                <input type="hidden" name="oNo" th:value="${order.no}" />
                <button class="deleteBtn">‚úï</button>
              </form>
            </div>
          </div>
        </div>
        <div class="total-price">
          Ï¥ù Ï£ºÎ¨∏Í∏àÏï° <span th:text="${totalPrice}" style="font-weight: bold;">0Ïõê</span>
        </div>
      </div>

      <!-- ÌïòÎã® Î≤ÑÌäº -->
      <div class="cancel-modal-footer">
        <button>Ï†ÑÏ≤¥ Ï£ºÎ¨∏ Ï∑®ÏÜå</button>
        <button>ÏàòÏ†ï</button>
      </div>
    </div>
  </div>
</th:block>
